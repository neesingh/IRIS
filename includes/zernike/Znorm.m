function N=Znorm(mode)% Compute normalizing constants N for Zernike polynomials.% Z = z.*N  to get non-normalized Zernike coefficients Z from normalized z%% Normalizaton scheme is from Noll (1976) JOSA 66:207 and appears also in % Mahajan's paper (1994) in Engineering Laboratory Notes.% The advantage of this normalization scheme is that it makes each Zernike% polynomial have unit variance, i.e the basis functions will be ortho-normal. % Normalizing constants are the same for polar and rectangular forms% of the Zernike polynomials since values depend only on radial order.%% Usage: N = Znorm(mode)  to get the vector of constants%% Input arguments:%		mode = vector of integer mode numbers as defined in Malacara's scheme%% Output arguments:%		N	 = vector of normalizing constants%%% 10-Mar-99, by LNT, Optometry School, Indiana University% History:%	LNT 6-Feb-00%		Comments on usage corrected %	KMH Dec. '02%		Reformatted header documentation[order,frequency]=mode2index(mode);	% get the mode numbersN = sqrt(2*(order + 1));			% from Noll's eqn 1i=find(frequency==0);				% trap zero frequency termsN(i) = sqrt(order(i) + 1);			% from Noll's eqn 1% end of function Znorm